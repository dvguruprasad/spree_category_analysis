$(function () {
    var chart;
    $(document).ready(function() {
        chart = new Highcharts.Chart({
            chart: {
                renderTo: 'container',
              zoomType: 'xy'
            },
              title: {
                  text: 'Promotion Simulator'
              },
              xAxis: [{
                  categories: ['Current Week', 'Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5']
              }],
              yAxis: [{ // Primary yAxis
                  labels: {
                      formatter: function() {
                          return this.value;
                      },
              style: {
                  color: '#89A54E'
              }
                  },
              title: {
                  text: '<%= Spree::Config[:currency] %>',
                  style: {
                      color: '#89A54E'
                  }
              }
              }
        ],
            tooltip: {
                formatter: function() {
                    return ''+
                        this.x +': '+ this.y + ' <%= Spree::Config[:currency] %>';
                }
            },
            legend: {
                layout: 'horizontal',
                align: 'left',
                x: 120,
                verticalAlign: 'top',
                y: 100,
                floating: true,
                backgroundColor: '#FFFFFF'
            },
            series: [{
                name: 'Inventory',
                color: '#4572A7',
                type: 'column',
                yAxis: 0,
                data: inventory_positions

            }, {
                name: 'Forecast',
                color: '#89A54E',
                type: 'spline',
                yAxis: 0,
                data: cumulative_targets
            },{
                name: 'Simulation',
                color: '#83c8f9',
                type: 'spline',
                yAxis: 0,
                data: [8.0, 10.9, 9.5, 24.5, 28.2, 41.5]
            },{
                name: 'SalesLastYear',
                color: '#83c8f9',
                type: 'spline',
                yAxis: 0,
                data: [5.0, 19.9, 19.5, 29.5, 68.2, 81.5]
            }]
        });
    });

});
